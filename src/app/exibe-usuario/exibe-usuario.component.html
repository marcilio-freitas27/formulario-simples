<nav class="nav navbar navbar-dark bg-dark">
  <div class="navbar-brend">
    <li class="nav-item">
      <a class="nav-link active text-white" routerLink="/cadastrar">
        <fa-icon [icon]="faPlus"></fa-icon>
        Cadastrar usuário
      </a>
    </li>
  </div>
</nav>

<h3 class="text-center m-3">Lista de usuários</h3>
<div class="container p-3">
  <table [hidden]="lista?.length != 0" class="table table-bordered table-hover">
    <thead>
      <tr>
        <th>Nome</th>
        <th>Telefone</th>
        <th>Exclusão</th>
        <th>Edição</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td colspan="4" style="text-align: center;">
          Sem usuários
        </td>
      </tr>
    </tbody>
  </table>
  <table [hidden]="lista?.length == 0" class="table table-bordered table-hover">
    <thead>
      <tr>
        <th>Nome</th>
        <th>Telefone</th>
        <th>Exclusão</th>
        <th>Edição</th>
      </tr>
    </thead>
    <tbody *ngFor="let usuario of lista; index as i">
      <tr>
        <td>{{ usuario.nome }}</td>
        <td>{{ usuario.telefone }}</td>
        <td><input class="btn btn-danger" type="button" (click)="excluir(i)" value="Excluir"></td>
        <td><input class="btn btn-warning" type="button" (click)="editar(usuario.nome,usuario.telefone,i)"
            value="Editar"></td>
      </tr>
    </tbody>
  </table>
</div>

<form [formGroup]="formGroup" [hidden]="show">
  <h3 class="text-center m-3">Edição de usuários</h3>
  <div class="container">
    <div class="form-group m-3">
      <label for="nome">Nome:*</label>
      <input type="text" id="nome" name="nome" class="form-control" formControlName="nome"
        placeholder="ex.: Nome Sobrenome..." minlength="3" maxlength="30">
      <div *ngIf="nome!.invalid && (nome!.dirty || nome!.touched)" class="alert-background">
        <small *ngIf="nome!.errors?.['required']">
          O campo nome é obrigatório
        </small>
        <small *ngIf="nome!.errors?.['minlength']">
          Quantidade mínima de 3 letras.
        </small>
        <small class="alerta" *ngIf="nome!.errors?.['pattern']">
          Insira apenas letras.
        </small>
      </div>
    </div>

    <div class="alerta" class="form-group m-3">
      <label for="fone">Telefone:*</label>
      <input type="text" id="fone" name="fone" class="form-control" formControlName="fone" mask="84988887777"
        placeholder="ex.: 84988887777" minlength="11" maxlength="16">
      <div *ngIf="fone!.invalid && (fone!.dirty || fone!.touched)" class="alert-background">
        <small class="alerta" *ngIf="fone!.errors?.['required']">
          O campo telefone é obrigatório.
        </small>
        <small class="alerta" *ngIf="fone!.errors?.['minlength']">
          Quantidade mínimo de 10 números.
        </small>
        <small class="alerta" *ngIf="fone!.errors?.['pattern']">
          Insira apenas números.
        </small>
      </div>
    </div>
    <div class="m-3">
      <input type="button" [disabled]="!formGroup.valid" class="btn btn-success" value="Atualizar"
        (click)="atualizar(nome!.value, fone!.value,count)">
    </div>
    <div class="container-fluid">
      <div class="row">
        <div class="col border">a</div>
      </div>

      <!-- Button trigger modal -->
      <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal"
        (click)="openModal('custom-modal-1')">
        Launch demo modal
      </button>

      <!-- Modal -->
      <div [ngClass]="modal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Modal title</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <p>Modal body text goes here.</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="closeModal()">Close</button>
              <button type="button" class="btn btn-primary">Save changes</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>