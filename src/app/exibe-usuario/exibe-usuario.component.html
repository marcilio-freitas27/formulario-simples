<div id="exampleModalFade">
  <nav class="nav navbar navbar-dark bg-dark">
    <div class="navbar-brend">
      <li class="nav-item">
        <a class="nav-link active text-white" routerLink="/cadastrar">
          <fa-icon [icon]="faPlus"></fa-icon>
          Cadastrar usuário
        </a>
      </li>
    </div>
  </nav>

  <h3 class="text-center m-3">Lista de usuários</h3>
  <div class="container p-3">
    <table [hidden]="lista?.length != 0" class="table table-bordered table-hover">
      <thead>
        <tr>
          <th>Nome</th>
          <th>Telefone</th>
          <th>Exclusão</th>
          <th>Edição</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td colspan="4" style="text-align: center;">
            Sem usuários
          </td>
        </tr>
      </tbody>
    </table>

    <table [hidden]="lista?.length == 0" class="table table-bordered table-hover">
      <thead>
        <tr>
          <th>Nome</th>
          <th>Telefone</th>
          <th>Exclusão</th>
          <th>Edição</th>
        </tr>
      </thead>
      <tbody *ngFor="let usuario of lista; index as i">
        <tr>
          <td>{{ usuario.nome }}</td>
          <td>{{ usuario.telefone }}</td>
          <td><input type="button" data-toggle="modal" data-target="#exampleModal" class="btn btn-danger" type="button" (click)="openModal(i)" value="Excluir"></td>
          <td><input class="btn btn-warning" type="button" (click)="editar(usuario.nome,usuario.telefone,i)"
              value="Editar"></td>
        </tr>
      </tbody>
    </table>
  </div>

  <form [formGroup]="formGroup" [hidden]="show">
    <h3 class="text-center m-3">Edição de usuários</h3>
    <div class="container">
      <div class="form-group m-3">
        <label for="nome">Nome:*</label>
        <input type="text" id="nome" name="nome" class="form-control" formControlName="nome"
          placeholder="ex.: Nome Sobrenome..." minlength="3" maxlength="30">
        <div *ngIf="nome!.invalid && (nome!.dirty || nome!.touched)" class="alert-background">
          <small *ngIf="nome!.errors?.['required']">
            O campo nome é obrigatório
          </small>
          <small *ngIf="nome!.errors?.['minlength']">
            Quantidade mínima de 3 letras.
          </small>
          <small class="alerta" *ngIf="nome!.errors?.['pattern']">
            Insira apenas letras.
          </small>
        </div>
      </div>

      <div class="alerta" class="form-group m-3">
        <label for="fone">Telefone:*</label>
        <input type="text" id="fone" name="fone" class="form-control" formControlName="fone" mask="84988887777"
          placeholder="ex.: 84988887777" minlength="11" maxlength="16">
        <div *ngIf="fone!.invalid && (fone!.dirty || fone!.touched)" class="alert-background">
          <small class="alerta" *ngIf="fone!.errors?.['required']">
            O campo telefone é obrigatório.
          </small>
          <small class="alerta" *ngIf="fone!.errors?.['minlength']">
            Quantidade mínimo de 10 números.
          </small>
          <small class="alerta" *ngIf="fone!.errors?.['pattern']">
            Insira apenas números.
          </small>
        </div>
      </div>
      <div class="m-3">
        <input style="margin-right: 5px;" type="button" [disabled]="!formGroup.valid" class="btn btn-success" value="Atualizar"
          (click)="atualizar(nome!.value, fone!.value,count)">
        <input type="button" class="btn btn-danger" value="Cancelar"
          (click)="cancelar()">
      </div>
    </div>
  </form>

</div>

<div class="container-fluid">
  <app-modal-excluir-usuario></app-modal-excluir-usuario>
  <!-- Modal -->
  <!-- <div [ngClass]="modal" id="exampleModal" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Atenção</h5>
        </div>
        <div class="modal-body">
          <p>Deseja realmente exluir o usuário?</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="closeModal()">Não</button>
          <button type="button" class="btn btn-primary" (click)="excluir()">Sim</button>
        </div>
      </div>
    </div>
  </div> -->
</div>
